(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dependencias"],{"0483":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return d}));var r=n("1da1"),a=(n("96cf"),n("d3b7"),n("99af"),n("c3e4")),s=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a["a"],"dependencias/"),{method:"POST",headers:Object(a["b"])(),body:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a["a"],"dependencias/"),{method:"PUT",headers:Object(a["b"])(),body:t});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a["a"],"dependencias/").concat(t),{method:"DELETE",headers:Object(a["b"])()});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a["a"],"dependencias/cargo/").concat(t),{method:"DELETE",headers:Object(a["b"])()});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a["a"],"dependencias/"),{headers:Object(a["b"])()});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},9866:function(e,t,n){"use strict";n("b93a")},a434:function(e,t,n){"use strict";var r=n("23e7"),a=n("23cb"),s=n("a691"),c=n("50c4"),i=n("7b0b"),o=n("65f0"),d=n("8418"),u=n("1dde"),p=u("splice"),l=Math.max,f=Math.min,h=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,u,p,m,v,w=i(this),x=c(w.length),g=a(e,x),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=x-g):(n=_-2,r=f(l(s(t),0),x-g)),x+n-r>h)throw TypeError(b);for(u=o(w,r),p=0;p<r;p++)m=g+p,m in w&&d(u,p,w[m]);if(u.length=r,n<r){for(p=g;p<x-r;p++)m=p+r,v=p+n,m in w?w[v]=w[m]:delete w[v];for(p=x;p>x-r+n;p--)delete w[p-1]}else if(n>r)for(p=x-r;p>g;p--)m=p+r-1,v=p+n-1,m in w?w[v]=w[m]:delete w[v];for(p=0;p<n;p++)w[p+g]=arguments[p+2];return w.length=x-r+n,u}})},b93a:function(e,t,n){},c740:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").findIndex,s=n("44d2"),c="findIndex",i=!0;c in[]&&Array(1)[c]((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s(c)},d2e9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"usuarios animated fadeIn fast"},[n("h1",{staticClass:"text-center"},[e._v("Dependencias")]),n("p",{staticClass:"text-center"},[e._v("A continuación, puede gestionar las dependencias y cargos existentes en la empresa")]),e._m(0),n("hr",{staticClass:"divider"}),n("button",{staticClass:"btn btn-lg btn-success d-block mx-auto my-2",attrs:{type:"button"},on:{click:function(t){return e.ModalDependencia(null)}}},[n("i",{staticClass:"fas fa-cubes mx-1"}),e._v(" Crear Dependencia ")]),n("div",{staticClass:"row overflow-auto"},[n("h3",{staticClass:"text-center my-3"},[e._v("Dependencias")]),n("table",{staticClass:"table table-hover table-striped table-responsive text-center"},[e._m(1),n("tbody",e._l(e.dependencias,(function(t,r){return n("tr",{key:r},[n("td",{attrs:{scope:"row"}},[e._v(e._s(t.dependencia.nombre_dependencia))]),n("td",[e._v(e._s(t.cargos.length))]),n("td",[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(n){return e.ModalDependencia(t.dependencia.id_dependencia)}}},[n("i",{staticClass:"fas fa-pencil-alt mx-1"}),e._v(" Editar ")])]),n("td",[n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(n){return e.alertaEliminarDependencia(t.dependencia.id_dependencia)}}},[n("i",{staticClass:"fas fa-trash mx-1"}),e._v(" Eliminar ")])])])})),0)])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row mb-4"},[n("h3",{staticClass:"text-center"},[e._v("Busqueda de dependencias")]),n("div",{staticClass:"row col-md-5 col-10 mx-auto justify-content-center"},[n("div",{staticClass:"input-group"},[n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"nombre de la dependencia","aria-label":"Recipient's username","aria-describedby":"button-addon2"}}),n("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"button-addon2"}},[e._v("Buscar")])])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{staticClass:"fw-bold",attrs:{scope:"col"}},[e._v("Dependencia")]),n("th",{staticClass:"fw-bold",attrs:{scope:"col"}},[e._v("N° de cargos")]),n("th",{staticClass:"fw-bold",attrs:{scope:"col"}},[e._v("Editar")]),n("th",{staticClass:"fw-bold",attrs:{scope:"col"}},[e._v("Eliminar")])])])}],s=n("1da1"),c=(n("c740"),n("a434"),n("96cf"),n("0483")),i={name:"Dependencias",computed:{dependencias:function(){return this.$store.state.dependencias.dependencias}},created:function(){this.dependencias.length||this.getDependencias()},methods:{getDependencias:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("showLoading"),t.prev=1,t.next=4,Object(c["e"])();case 4:n=t.sent,e.$store.dispatch("hideLoading"),n.error?e.$store.dispatch("showError",n.error):e.$store.dispatch("setDependencias",n.dependencias),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),e.$store.dispatch("showError"),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},ModalDependencia:function(e){this.$store.dispatch("showModal",{show_modal:"ModalDependencia",id_edicion:e})},alertaEliminarDependencia:function(e){var t=this;this.$swal.fire({title:"¿Eliminar dependencia?",text:"Adicionalmente se eliminarán los cargos pertenecientes a la dependencia",icon:"warning",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",reverseButtons:!0}).then((function(n){n.isConfirmed&&t.eliminarDependencia(e)}))},eliminarDependencia:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.$store.dispatch("showLoading"),n.prev=1,n.next=4,Object(c["d"])(e);case 4:r=n.sent,t.$store.dispatch("hideLoading"),r.error?t.$store.dispatch("showError",r.error):(a=JSON.parse(JSON.stringify(t.dependencias)),s=a.findIndex((function(t){return t.dependencia.id_dependencia==e})),a.splice(s,1),t.$store.dispatch("setDependencias",a),t.$store.dispatch("showSuccess",r.mensaje)),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](1),t.$store.dispatch("showError"),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()}}},o=i,d=(n("9866"),n("2877")),u=Object(d["a"])(o,r,a,!1,null,"4457811a",null);t["default"]=u.exports}}]);
//# sourceMappingURL=dependencias.6d626b57.js.map